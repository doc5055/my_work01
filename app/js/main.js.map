{"version":3,"sources":["main.js"],"names":["contact_form","document","querySelector","circle_group_first","circle_group_second","notification_button","addEventListener","startForm","contactFormSend","contact_form_inputs","querySelectorAll","forEach","input_form","fieldValidate","event","classList","add","remove","preventDefault","error","formValidate","reset","input","currentTarget","console","log","userNameTest","emailTest","questionTest","formRemoveError","type","value","match","closest","removeChild","nextSibling","formAddError","insertAdjacentHTML","checked","form","formFields","contains"],"mappings":"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","file":"main.js","sourcesContent":["const contact_form = document.querySelector('.contact__form');\nconst circle_group_first = document.querySelector('.circle__group-first');\nconst circle_group_second = document.querySelector('.circle__group-second');\nconst notification_button = document.querySelector('.notification__button');\n\nnotification_button.addEventListener('click', startForm);\n\ncontact_form.addEventListener('submit', contactFormSend);\n\nconst contact_form_inputs = contact_form.querySelectorAll('.form__input-required');\n\ncontact_form_inputs.forEach(input_form => {\n  input_form.addEventListener('change', fieldValidate);\n  input_form.addEventListener('keydown', fieldValidate);\n  input_form.addEventListener('keyup', fieldValidate);\n})\n\nfunction startForm (event) {\n  circle_group_second.classList.add('hidden-elements');\n  contact_form.classList.remove('hidden-elements');\n  circle_group_first.classList.remove('hidden-elements');\n}\n\nfunction contactFormSend(event) {\n  event.preventDefault();\n\n  let error = formValidate(contact_form);\n\n  if (error === 0) {\n    contact_form.reset();\n    contact_form.querySelectorAll('.form__input-required').forEach(input => input.classList.remove('field__input-valid'));\n    circle_group_first.classList.add('hidden-elements');\n    contact_form.classList.add('hidden-elements');\n    circle_group_second.classList.remove('hidden-elements');\n  }\n}\n\nfunction fieldValidate (event){\n  const input = event.currentTarget;\n\n  console.log(input, '4')\n  const userNameTest = /^[a-zA-Z0-9_-]{3,16}$/;\n  const emailTest = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/;\n  const questionTest = /^[a-zA-Z0-9_-\\s!$()*+.,<>?[\\]^{|}]{7,200}$/;\n\n  formRemoveError(input);\n\n  if (input.type === 'text') {\n    if (!input.value.match(userNameTest)){\n      if(input.closest('.contact-form__field').querySelector('.form__input-message')){\n        input.closest('.contact-form__field').removeChild(input.nextSibling);\n      }\n      formAddError(input);\n      const error = `<div class=\"form__input-message\"><div class=\"form__input-info\">Please input your email address in correct format.</div><div class=\"form__input-triangle01\"></div></div>`;\n      input.insertAdjacentHTML('afterend', error);\n    } else {\n      formRemoveError(input);\n      if(input.closest('.contact-form__field').querySelector('.form__input-message')){\n        input.closest('.contact-form__field').removeChild(input.nextSibling);\n      }\n    }\n  }\n\n  else if (input.type === 'email') {\n    if (!input.value.match(emailTest)){\n      if(input.closest('.contact-form__field').querySelector('.form__input-message')){\n        input.closest('.contact-form__field').removeChild(input.nextSibling);\n      }\n      formAddError(input);\n      const error = `<div class=\"form__input-message\"><div class=\"form__input-info\">Please input your email address in correct format. Use @ symbol in address.</div><div class=\"form__input-triangle01\"></div></div>`;\n      input.insertAdjacentHTML('afterend', error);\n    } else {\n      formRemoveError(input);\n      if(input.closest('.contact-form__field').querySelector('.form__input-message')){\n        input.closest('.contact-form__field').removeChild(input.nextSibling);\n      }\n    }\n  }\n\n  else if (input.type === 'textarea') {\n    if (!input.value.match(questionTest)){\n      if(input.closest('.contact-form__field').querySelector('.form__input-message')){\n        input.closest('.contact-form__field').removeChild(input.nextSibling);\n      }\n      formAddError(input);\n      const error = `<div class=\"form__input-message\"><div class=\"form__input-info\">Please input your question in correct format.</div><div class=\"form__input-triangle01\"></div><div class=\"form__input-triangle01\"></div></div>`;\n      input.insertAdjacentHTML('afterend', error);\n    } else {\n      formRemoveError(input);\n      if(input.closest('.contact-form__field').querySelector('.form__input-message')){\n        input.closest('.contact-form__field').removeChild(input.nextSibling);\n      }\n    }\n  }\n\n  else if (input.type === 'checkbox' && input.checked === false) {\n    if (!input.checked){\n      formAddError(input);\n    } else {\n      console.log('NO!')\n      formRemoveError(input);\n    }\n  }\n}\n\nfunction formValidate(form) {\n  let error = 0;\n  let formFields = form.querySelectorAll('.form__input-required');\n\n  console.log(formFields, '5')\n\n  formFields.forEach(input => {\n    if (input.classList.contains('field__input-invalid') || input.value === '') {\n      error++;\n    }\n  })\n\n  return error;\n}\n\nfunction formAddError(input) {\n  input.classList.remove('field__input-valid');\n  input.classList.add('field__input-invalid');\n}\n\nfunction formRemoveError(input) {\n  input.classList.remove('field__input-invalid');\n  input.classList.add('field__input-valid');\n}\n"]}